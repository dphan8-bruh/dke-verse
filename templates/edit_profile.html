{% extends 'base.html' %}

{% block content %}
{% for message in get_flashed_messages() %}

	<div class="alert alert-warning alert-dismissible fade show" role="alert">
	  {{ message }}
	  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
	</div>

{% endfor %}
{% for message in get_flashed_messages() %}
	
	<div class="alert alert-warning alert-dismissible fade show" role="alert">
	  {{ message }}
	  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
	</div>
{% endfor %}

{% if id == current_user.id %}

	<h1>Update User...</h1>
	<br/>
<div class="shadow p-3 mb-5 bg-body rounded">
	<form action="/update/{{ name_to_update.id }}" method="POST">
        {{ form.hidden_tag() }}
        <div class="col-sm-6">
            {{ form.name.label(class="form-label") }}
            {{ form.name(class="form-control", value=name_to_update.name)}}
        </div>
        </br>

        <div class="col-sm-6">
            {{ form.username.label(class="form-label") }}
            {{ form.username(class="form-control", value=name_to_update.username)}}
        </div>
        </br>

        <div class="col-sm-6">
            {{ form.email.label(class="form-label") }}
            {{ form.email(class="form-control", value=name_to_update.email)}}
        </div>
        </br>
        <div class="row g-3">
            <div class="col-sm-3">
                {{ form.chapter_letters.label(class="form-label") }}
                {{ form.chapter_letters(class="form-control", value=name_to_update.chapter_letters)}}
            </div>

            <div class="col-sm-3">
                {{ form.class_year.label(class="form-label") }}
                {{ form.class_year(class="form-control", value=name_to_update.class_year)}}
            </div>
        </div>
        </br>

		<br/>
		
        <button class="btn btn-sm btn-primary btn-block" type="submit">Submit</button> <a href="{{ url_for('dashboard')}}" class="btn btn-sm btn-primary">Back</a>   <a href="#" class="btn btn-sm btn-primary">Delete</a>

	</form>
</div>
<br/><br/><br/>

{% else %}
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
	  Sorry! You Can't Edit This User...
	  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
	</div>

	<h2>Access Denied!</h2>
	<p>Sorry, you cannot access this user profile...</p>
{% endif %}


{% endblock %}